(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9878:function(e,t,n){Promise.resolve().then(n.t.bind(n,8877,23)),Promise.resolve().then(n.bind(n,6182))},6182:function(e,t,n){"use strict";n.d(t,{Providers:function(){return g}});var o=n(7437),r=n(280),l=n(2265),a=n(3975),i=n(7326),u=n(9355),c=n(7527),s=n(1287),d=n(84),w=n(8163),h=n(6175),m=n(357),f=n(3947);function g(e){let{children:t}=e,n=(0,f.t)(e=>e.token),g=(0,f.t)(e=>e.hydrateFromStorage),k=(0,f.t)(e=>e.hydrated);(0,l.useEffect)(()=>{k||g()},[g,k]);let _=(0,l.useMemo)(()=>(function(e){let t=m.env.NEXT_PUBLIC_GRAPHQL_HTTP||"http://localhost:4000/graphql",n=m.env.NEXT_PUBLIC_GRAPHQL_WS||t.replace(/^http/,"ws"),o=(0,a.L)({uri:t}),r=new i.i((t,n)=>(e&&t.setContext(t=>{let{headers:n={}}=t;return{headers:{...n,Authorization:"Bearer ".concat(e)}}}),n?n(t):null)),l=new w.g((0,h.eI)({url:n,connectionParams:()=>e?{Authorization:"Bearer ".concat(e)}:{}})),f=null!==l?(0,u.V)(e=>{let{query:t}=e,n=(0,d.p$)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation},l,r.concat(o)):r.concat(o);return new c.f({link:f,cache:new s.h})})(n),[n]);return(0,o.jsx)(r.e,{client:_,children:t})}},3947:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var o=n(9099);let r="taskboard_token",l="taskboard_user",a=(0,o.Ue)(e=>({token:null,user:null,hydrated:!1,setToken:t=>{t?window.localStorage.setItem(r,t):window.localStorage.removeItem(r),e({token:t})},setUser:t=>{t?window.localStorage.setItem(l,JSON.stringify(t)):window.localStorage.removeItem(l),e({user:t})},clearAuth:()=>{window.localStorage.removeItem(r),window.localStorage.removeItem(l),e({token:null,user:null})},hydrateFromStorage:()=>{let t=window.localStorage.getItem(r),n=window.localStorage.getItem(l);e({token:t||null,user:n?JSON.parse(n):null,hydrated:!0})}}))},8877:function(){}},function(e){e.O(0,[404,22,914,787,971,23,744],function(){return e(e.s=9878)}),_N_E=e.O()}]);