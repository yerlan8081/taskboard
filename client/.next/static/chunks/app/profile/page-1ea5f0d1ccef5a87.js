(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{1384:function(e,t,l){Promise.resolve().then(l.bind(l,7083))},7083:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var r=l(8646),a=l(7437),s=l(1432),n=l(632),o=l(7138),i=l(2265),d=l(3947);function c(){let e=(0,r._)(["\n  query Me {\n    me {\n      id\n      email\n      name\n      role\n      status\n    }\n  }\n"]);return c=function(){return e},e}let u=(0,s.Ps)(c());function m(){let e=(0,d.t)(e=>e.token),t=(0,d.t)(e=>e.setToken);(0,i.useEffect)(()=>{if(!e){let e=localStorage.getItem("taskboard_token");e&&t(e)}},[t,e]);let{data:l,loading:r}=(0,n.aM)(u,{skip:!e});if(!e)return(0,a.jsxs)("main",{className:"w-full max-w-3xl space-y-4 rounded-3xl border border-white/10 bg-slate-900/70 px-8 py-10 shadow-2xl backdrop-blur",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Please login to view profile."}),(0,a.jsx)(o.default,{className:"text-amber-300 hover:text-amber-200",href:"/login",children:"Go to login"})]});let s=null==l?void 0:l.me;return(0,a.jsxs)("main",{className:"w-full max-w-3xl space-y-4 rounded-3xl border border-white/10 bg-slate-900/70 px-8 py-10 shadow-2xl backdrop-blur",children:[(0,a.jsxs)("header",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-amber-300",children:"Profile"}),(0,a.jsx)("h1",{className:"text-3xl font-semibold text-white",children:(null==s?void 0:s.name)||"Profile"})]}),r&&(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Loading..."}),s&&(0,a.jsxs)("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-black/30 p-4 text-sm text-slate-200",children:[(0,a.jsxs)("p",{children:["Email: ",s.email]}),(0,a.jsxs)("p",{children:["Role: ",s.role]}),(0,a.jsxs)("p",{children:["Status: ",s.status]}),(0,a.jsxs)("p",{children:["ID: ",s.id]})]}),(0,a.jsx)("div",{className:"flex gap-4 text-sm text-slate-400",children:(0,a.jsx)(o.default,{href:"/boards",className:"text-amber-300 hover:text-amber-200",children:"Back to boards"})})]})}},3947:function(e,t,l){"use strict";l.d(t,{t:function(){return n}});var r=l(9099);let a="taskboard_token",s="taskboard_user",n=(0,r.Ue)(e=>({token:null,user:null,hydrated:!1,setToken:t=>{t?window.localStorage.setItem(a,t):window.localStorage.removeItem(a),e({token:t})},setUser:t=>{t?window.localStorage.setItem(s,JSON.stringify(t)):window.localStorage.removeItem(s),e({user:t})},clearAuth:()=>{window.localStorage.removeItem(a),window.localStorage.removeItem(s),e({token:null,user:null})},hydrateFromStorage:()=>{let t=window.localStorage.getItem(a),l=window.localStorage.getItem(s);e({token:t||null,user:l?JSON.parse(l):null,hydrated:!0})}}))}},function(e){e.O(0,[22,506,914,632,971,23,744],function(){return e(e.s=1384)}),_N_E=e.O()}]);